<!DOCTYPE html>
<html lang="en">
	<head th:fragment="index-head">
	    <meta charset="UTF-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <script>src="https://kit.fontawesome.com/le592b5726.js"</script>
	    <link href="https://kit-pro.fontawesome.com/releases/v5.15.4/css/pro.min.css" rel="stylesheet">
	    <link rel="stylesheet" th:href="@{/style/index.css}">
	    <title>Livraria</title>
	</head>
	<body>
		<header th:fragment="index-header">
			<div class="sidebar">
				<div class="logo">
                	<i class="fas fa-book-open" ></i>
                	<h1>Livraria</h1>
            	</div>
            	
            	<div class="menu">
                	<ul>
	                    <li class="menu-nav"><a class="menu-nav" href="/home">IN√çCIO</a></li>
	                    <li class="menu-nav"> 
	                    <span class="menu-nav"  onclick="mostrar('pai')" href="" >CATEGORIAS</span>
	                    <ul class="submenu" id="pai" >
	                    	<li><a  th:href="@{/search/categoria(categoria=${categoria.nome})}" th:each="categoria: ${categorias}" th:text="${categoria.nome}">categoria A</a></li>
                        </ul>
                    	</li>
                    	<li class="menu-nav"><a class="menu-nav" href="" >MEU PERFIL</a></li>
                	</ul>
            	</div>
			</div>
		</header>
		
		<form class="cabecalho" action="/search" method="get" th:fragment="index-form">
	        <div class="search-box">
	            <input class="search-bar" type="text" name="pesquisa" placeholder=" Pesquisar livro"></input>
	            <button class="search-button" type="submit" ><i class="fas fa-search"></i></button>
	        </div>
	        <li class="login">
                	<a href="/cadastrar-usuario" class="entrar-button"><i class="fal fa-sign-in"></i> Entrar</a>
            	</li>
    	</form>
    	
    	<main> 
    	
	        <div class="livro" th:each="livro: ${livros}">
				<a th:href="@{/livro-info(ISBN=${livro.ISBN})}">
					<img class="capa" th:src="${livro.capa}" alt="">
				</a>
	            <span class="titulo"th:text="${livro.titulo}" >Titulo do Livro</span>
	            <div class="preco">
	            	<span class="rs">R$:</span>
	            	<span class="preco" th:text="${livro.preco}">RS:00.00</span>
	            </div>
	        </div> 

    	</main>
	
		<a th:fragment="index-carrinho" class="carrinho-button" th:href="@{/carrinho-compras}"><i class="fas fa-shopping-cart"></i></a>
		
		<script th:fragment="index-script">
	        function mostrar(el){
	           var display = document.getElementById(el).style.display;
	          
	            if(display == "none" || display == "")
	                document.getElementById(el).style.display = 'block';
	            else
	                document.getElementById(el).style.display = 'none';
	        }
    	</script>
	
	</body>